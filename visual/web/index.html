<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="./index.css" />
		<script src="./lib/vue_3.2.36.js"></script>
		<script src="./lib/echarts.min.js"></script>
		<script src="./index.js"></script>
		<title>Politics</title>
	</head>
	<body>
		<div id="app">
			<h1>政治新闻</h1>
			<hr />
            <h2>看板：</h2>
            <hr>
            <div class="boxes">
				<div class="box"><div id="chart_1"></div></div>
				<div class="box"><div id="chart_2"></div></div>
				<div class="box"><div id="chart_3"></div></div>
				<div class="box"><div id="chart_4"></div></div>
			</div>
            <br>
            <h2>数据：<button @click="requestData" v-if="!requested">请求</button></h2>
            <hr>
            <div class="scroller">
                <table border="1">
                    <tr class="table-head">
                        <th>ID</th>
                        <th>标题</th>
                        <th>发布时间</th>
                        <th>来源</th>
                        <th>国家</th>
                        <th>关键词</th>
                    </tr>
                    <tr v-for="(item, index) in data" :key="item[1]">
                        <td>{{index+1}}</td>
                        <td>{{item[1]}}</td>
                        <td>{{new Date(item[5]).toLocaleDateString()}}</td>
                        <td>{{item[7]}}</td>
                        <td>{{item[11] || '-'}}</td>
                        <td>{{item[10]?.map(c=> c.value).join(',') || ''}}</td>
                    </tr>
                </table>
            </div>

		</div>
		<script>
			window.app.mount('#app')
		</script>
	</body>
</html>
